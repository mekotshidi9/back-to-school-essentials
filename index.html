<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Back to School Essentials</title>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@700&display=swap" rel="stylesheet">

<style>
    /* Price drop styling & small animations */
.price-row { margin: 8px 0; display:flex; justify-content:center; align-items:center; gap:10px; }
.old-price {
  color: #888;
  text-decoration: line-through;
  font-size: 0.95rem;
  opacity: 0.95;
  transition: transform .25s ease, opacity .25s ease;
}
.new-price {
  color: #e11d48; /* red-ish */
  font-size: 1.1rem;
  font-weight: 700;
}

/* small pop animation when inserted */
.pop {
  animation: pop 260ms ease;
}
@keyframes pop {
  0%   { transform: scale(0.95); opacity: 0; }
  60%  { transform: scale(1.05); opacity: 1; }
  100% { transform: scale(1); }
}

body { margin: 0; font-family: Arial, sans-serif; background: #f8f8f8; }

/* Header */
header {
    background: #1e3a8a;
    color: #fff;
    padding: 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: relative;
}

header h1 {
    margin: 0;
    font-size: 52px;               
    font-family: 'Baloo 2', cursive;  
}

nav {
    display: flex;
    gap: 20px;       
    margin-right: 100px; 
}

nav a {
    color: #fff;
    text-decoration: none;
    font-weight: bold;
}

nav a:hover {
    color: #3b82f6; 
    transition: color 0.3s; 
}

/* Cart Icon */
.cart-icon {
    position: absolute;
    right: 20px;
    top: 20px;
    cursor: pointer;
    font-size: 22px;
}
.cart-count {
    background: red;
    color: white;
    font-size: 12px;
    padding: 3px 7px;
    border-radius: 50%;
    vertical-align: top;
    margin-left: 5px;
}

/* Hero */
.hero {
    background: linear-gradient(135deg, #1e3a8a, #3b82f6);
    color: #fff;
    text-align: center;
    padding: 80px 20px;
}
.hero h2 {
    font-size: 40px;
    margin-bottom: 10px;
    font-family: 'Baloo 2', cursive;
}
.hero p {
    font-size: 18px;
    font-family: 'Baloo 2', cursive;
}

/* Products */
.products {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    padding: 40px;
    max-width: 1200px;
    margin: auto;
}
.product-card {
    background: #fff;
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    cursor: pointer;
}
.product-card img { width: 100%; border-radius: 10px; }
.product-card h3 { margin: 15px 0 5px; }
.product-card button {
    background: #3b82f6;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
}

/* Cart Panel */
#cart-panel {
    position: fixed;
    right: 0;
    top: 0;
    width: 320px;
    height: 100%;
    background: white;
    box-shadow: -4px 0 10px rgba(0,0,0,0.2);
    padding: 20px;
    display: none;
    overflow-y: auto;
    z-index: 999;
}
#cart-panel h3 { margin-top: 0; }
.cart-item {
    padding: 10px 0;
    border-bottom: 1px solid #ddd;
}
.cart-item div {
    display: flex;
    align-items: center;
    gap: 5px;
    margin-top: 5px;
}
.cart-item button {
    background: none;
    border: none;
    color: red;
    cursor: pointer;
    font-size: 16px;
}
.cart-item span {
    min-width: 20px;
    text-align: center;
}
.checkout-btn {
    background: green;
    color: white;
    padding: 12px;
    width: 100%;
    border: none;
    border-radius: 6px;
    margin-top: 15px;
    font-size: 18px;
    cursor: pointer;
}

/* Modal for product details */
.modal {
    display: none;
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.6);
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.modal-content {
    background: white;
    padding: 20px;
    width: 90%;
    max-width: 400px;
    border-radius: 10px;
}

.close-btn {
    float: right;
    font-size: 24px;
    cursor: pointer;
}

/* Contact & Footer */
footer {
    background: #1e3a8a;
    color: #fff;
    padding: 20px;
    text-align: center;
    margin-top: 40px;
}
.contact {
    text-align: center;
    padding: 20px;
    font-size: 18px;
}
.sale-banner {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    background: #dc2626; /* red */
    color: white;
    text-align: center;
    padding: 12px 0;
    font-size: 18px;
    font-weight: bold;
    z-index: 9999;
    animation: slideUp 0.8s ease-out;
    box-shadow: 0 -2px 8px rgba(0,0,0,0.2);
}

@keyframes slideUp {
    from { transform: translateY(100%); }
    to   { transform: translateY(0); }
}

</style>
</head>

<body>

<header>
    <h1>Back to School Essentials</h1>
    <nav>
        <a href="#">Home</a>
        <a href="#">Shop</a>
        <a href="#">About</a>
        <a href="contact.html">Contact</a>
    </nav>

    <div class="cart-icon" onclick="toggleCart()">
        üõí <span class="cart-count" id="cart-count">0</span>
    </div>
</header>

<section class="hero">
    <h2>Affordable Stationery Packs for Parents & Schools</h2>
    <p>Quality stationery delivered nationwide.</p>
</section>

<section class="products">

    <!-- Grade 1 -->
    <div class="product-card" data-price="1999.99" onclick="showProductDetails('Grade 1 Pack')">
        <img src="https://via.placeholder.com/300" alt="Grade 1 Pack">
         <h3>Grade 1 Pack</h3>

        <div class="price-row">
            <span class="new-price">R1999.99</span>
            <span class="old-price" aria-hidden="true"></span>
            
        </div>
        <button onclick="addToCart('Grade 1 Pack', parseFloat(this.closest('.product-card').dataset.price)); event.stopPropagation();">Add to Cart</button>
    </div>

    <!-- Grade 2 -->
    <div class="product-card" data-price="1999.99" onclick="showProductDetails('Grade 2 Pack')">
        <img src="https://via.placeholder.com/300" alt="Grade 2 Pack">
         <h3>Grade 2 Pack</h3>

        <div class="price-row">
            <span class="new-price">R1999.99</span>
            <span class="old-price" aria-hidden="true"></span>
        </div>
       <button onclick="addToCart('Grade 2 Pack', parseFloat(this.closest('.product-card').dataset.price)); event.stopPropagation();">Add to Cart</button>
    </div>

    <!-- Grade 3 -->
    <div class="product-card" data-price="1999.99" onclick="showProductDetails('Grade 3 Pack')">
        <img src="https://via.placeholder.com/300" alt="Grade 3 Pack">
         <h3>Grade 3 Pack</h3>
        
        <div class="price-row">
            <span class="new-price">R1999.99</span>
            <span class="old-price" aria-hidden="true"></span>
            
        </div>
        <button onclick="addToCart('Grade 3 Pack', parseFloat(this.closest('.product-card').dataset.price)); event.stopPropagation();">Add to Cart</button>
    </div>

    <!-- Grade 4 -->
    <div class="product-card" data-price="1999.99" onclick="showProductDetails('Grade 4 Pack')">
        <img src="https://via.placeholder.com/300" alt="Grade 4 Pack">
         <h3>Grade 4 Pack</h3>
        
        <div class="price-row">
            <span class="new-price">R1999.99</span>
            <span class="old-price" aria-hidden="true"></span>
        </div>
        <button onclick="addToCart('Grade 4 Pack', parseFloat(this.closest('.product-card').dataset.price)); event.stopPropagation();">Add to Cart</button>
    </div>

    <!-- Grade 5 -->
    <div class="product-card" data-price="1999.99" onclick="showProductDetails('Grade 5 Pack')">
        <img src="https://via.placeholder.com/300" alt="Grade 5 Pack">
         <h3>Grade 5 Pack</h3>
        
        <div class="price-row">
            <span class="new-price">R1999.99</span>
            <span class="old-price" aria-hidden="true"></span>
        </div>
       <button onclick="addToCart('Grade 5 Pack', parseFloat(this.closest('.product-card').dataset.price)); event.stopPropagation();">Add to Cart</button>
    </div>

    <!-- Grade 6 -->
    <div class="product-card" data-price="1999.99" onclick="showProductDetails('Grade 6 Pack')">
        <img src="https://via.placeholder.com/300" alt="Grade 6 Pack">
         <h3>Grade 6 Pack</h3>
        
        <div class="price-row">
            <span class="new-price">R1999.99</span>
            <span class="old-price" aria-hidden="true"></span>
        </div>
        <button onclick="addToCart('Grade 6 Pack', parseFloat(this.closest('.product-card').dataset.price)); event.stopPropagation();">Add to Cart</button>
    </div>

    <!-- Grade 7 -->
    <div class="product-card" data-price="1999.99" onclick="showProductDetails('Grade 7 Pack')">
        <img src="https://via.placeholder.com/300" alt="Grade 7 Pack">
         <h3>Grade 7 Pack</h3>
        
        <div class="price-row">
            <span class="new-price">R1999.99</span>
            <span class="old-price" aria-hidden="true"></span>
        </div>
        <button onclick="addToCart('Grade 7 Pack', parseFloat(this.closest('.product-card').dataset.price)); event.stopPropagation();">Add to Cart</button>
    </div>

    <!-- Grade 8 -->
    <div class="product-card" data-price="1999.99" onclick="showProductDetails('Grade 8 Pack')">
        <img src="https://via.placeholder.com/300" alt="Grade 8 Pack">
         <h3>Grade 8 Pack</h3>
        
        <div class="price-row">
            <span class="new-price">R1999.99</span>
            <span class="old-price" aria-hidden="true"></span>
        </div>
        <button onclick="addToCart('Grade 8 Pack', parseFloat(this.closest('.product-card').dataset.price)); event.stopPropagation();">Add to Cart</button>
    </div>

</section>

<div class="contact">
    <p><strong>We deliver nationwide</strong></p>
    <p>Contact: 071 353 5297</p>
</div>

<!-- CART PANEL -->
<div id="cart-panel">
    <button onclick="toggleCart()" style="float:right; background:red; color:white; border:none; padding:5px 10px; border-radius:5px; cursor:pointer;">Close √ó</button>
    <h3>Your Cart</h3>
    <div id="cart-items"></div>
    <h3>Total: R<span id="cart-total">0.00</span></h3>

<p style="font-size: 13px; color: #555; margin-top: 10px;">
    *Shipping costs vary based on your location.
</p>

<button class="checkout-btn" onclick="checkout()">Checkout</button>

</div>

<!-- PRODUCT DETAILS MODAL -->
<div id="product-modal" class="modal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeModal()">√ó</span>
        <h2 id="modal-title"></h2>
        <ul id="modal-items"></ul>
    </div>
</div>

<footer>
    ¬© 2025 Back to School Essentials ‚Äî All Rights Reserved
</footer>

<script>
// Product item lists
const productDetails = {
    "Grade 1 Pack": [
        { name: "2 √ó A4 Exercise Books", price: 20 },
        { name: "1 √ó Ruler", price: 10 },
        { name: "1 √ó Pencil Set (6 pack)", price: 25 },
        { name: "1 √ó Eraser", price: 5 },
        { name: "1 √ó Sharpener", price: 5 }
    ],
    "Grade 2 Pack": [
        { name: "2 √ó A4 Exercise Books", price: 20 },
        { name: "1 √ó Ruler", price: 10 },
        { name: "1 √ó Pencil Set (6 pack)", price: 25 },
        { name: "1 √ó Eraser", price: 5 },
        { name: "1 √ó Sharpener", price: 5 }
    ],
    "Grade 3 Pack": [
        { name: "2 √ó A4 Exercise Books", price: 20 },
        { name: "1 √ó Ruler", price: 10 },
        { name: "1 √ó Pencil Set (6 pack)", price: 25 },
        { name: "1 √ó Eraser", price: 5 },
        { name: "1 √ó Sharpener", price: 5 }
    ],
    "Grade 4 Pack": [
        { name: "2 √ó A4 Exercise Books", price: 20 },
        { name: "1 √ó Ruler", price: 10 },
        { name: "1 √ó Pencil Set (6 pack)", price: 25 },
        { name: "1 √ó Eraser", price: 5 },
        { name: "1 √ó Sharpener", price: 5 }
    ],
    "Grade 5 Pack": [
        { name: "2 √ó A4 Exercise Books", price: 20 },
        { name: "1 √ó Ruler", price: 10 },
        { name: "1 √ó Pencil Set (6 pack)", price: 25 },
        { name: "1 √ó Eraser", price: 5 },
        { name: "1 √ó Sharpener", price: 5 }
    ],
    "Grade 6 Pack": [
        { name: "2 √ó A4 Exercise Books", price: 20 },
        { name: "1 √ó Ruler", price: 10 },
        { name: "1 √ó Pencil Set (6 pack)", price: 25 },
        { name: "1 √ó Eraser", price: 5 },
        { name: "1 √ó Sharpener", price: 5 }
    ],
    "Grade 7 Pack": [
        { name: "2 √ó A4 Exercise Books", price: 20 },
        { name: "1 √ó Ruler", price: 10 },
        { name: "1 √ó Pencil Set (6 pack)", price: 25 },
        { name: "1 √ó Eraser", price: 5 },
        { name: "1 √ó Sharpener", price: 5 }
    ],
    "Grade 8 Pack": [
        { name: "2 √ó A4 Exercise Books", price: 20 },
        { name: "1 √ó Ruler", price: 10 },
        { name: "1 √ó Pencil Set (6 pack)", price: 25 },
        { name: "1 √ó Eraser", price: 5 },
        { name: "1 √ó Sharpener", price: 5 }
    ]
};

// Call once on page load to generate old (struck) prices as 30% above current
function applyPriceDrops() {
  // Select all product cards that have a data-price attribute
  document.querySelectorAll('.product-card[data-price]').forEach(card => {
    const priceStr = card.dataset.price;                         // "199.99"
    const price = parseFloat(priceStr);
    if (isNaN(price)) return;

    // compute old price = 30% higher
    const oldPrice = (price * 1.3);
    const oldPriceText = 'R' + oldPrice.toFixed(2);

    // find the old-price span and new-price span
    const oldEl = card.querySelector('.old-price');
    const newEl = card.querySelector('.new-price');

    if (oldEl) {
      oldEl.textContent = oldPriceText;
      // subtle pop effect to draw attention
      oldEl.classList.remove('pop');
      void oldEl.offsetWidth; // trigger reflow for repeated animation
      oldEl.classList.add('pop');
    }

    // ensure new-price displays correctly (in case markup mismatch)
    if (newEl) {
      newEl.textContent = 'R' + price.toFixed(2);
    }
  });
}

// run on load
document.addEventListener('DOMContentLoaded', function() {
  applyPriceDrops();
});


// Show modal
function showProductDetails(name) {
    document.getElementById("modal-title").textContent = name;

    let itemsHTML = productDetails[name]
        .map((item, index) => `
<li>
   <input type="checkbox" 
          id="${name}-item-${index}" 
          data-item="${item.name}" 
          data-price="${item.price}" 
          checked>

   <label for="${name}-item-${index}">
       ${item.name} ‚Äî <strong>R${item.price.toFixed(2)}</strong>
   </label>
</li>
`)

        .join("");

    document.getElementById("modal-items").innerHTML = itemsHTML;

    document.getElementById("product-modal").style.display = "flex";

    if (!document.getElementById("add-selected-btn")) {
        const btn = document.createElement("button");
        btn.id = "add-selected-btn";
        btn.textContent = "Add Selected Items to Cart";
        btn.style.cssText = "margin-top:15px;padding:10px 20px;background:#3b82f6;color:white;border:none;border-radius:6px;cursor:pointer;";
        btn.onclick = function() { addSelectedToCart(name); };
        document.querySelector(".modal-content").appendChild(btn);
    }
}
function addSelectedToCart(packName) {
    const selectedItems = Array.from(
        document.querySelectorAll(`#product-modal input[type="checkbox"]:checked`)
    ).map(cb => ({
        name: cb.dataset.item,
        price: parseFloat(cb.dataset.price)
    }));

    if (selectedItems.length === 0) {
        alert("Please select at least one item.");
        return;
    }

    selectedItems.forEach(item => {
        addToCart(item.name, item.price);
    });

    closeModal();
}


// Close modal
function closeModal() {
    document.getElementById("product-modal").style.display = "none";
}

let cart = JSON.parse(localStorage.getItem("cart")) || [];

function saveCart() { localStorage.setItem("cart", JSON.stringify(cart)); }

function updateCart() {
    document.getElementById("cart-count").textContent = cart.length;
    let itemsHTML = "";
    let total = 0;
    cart.forEach((item,index) => {
        total += item.price * item.quantity;
        itemsHTML += `
<div class="cart-item">
    ${item.name} - R${(item.price * item.quantity).toFixed(2)}
    <div>
        <button onclick="decreaseQty(${index})">-</button>
        <span>${item.quantity}</span>
        <button onclick="increaseQty(${index})">+</button>
        <button onclick="removeItem(${index})">‚ùå</button>
    </div>
</div>`;
    });
    document.getElementById("cart-items").innerHTML = itemsHTML;
    document.getElementById("cart-total").textContent = total.toFixed(2);
}

function addToCart(name, price) {
    const existingIndex = cart.findIndex(item => item.name === name);
    if(existingIndex >= 0){ cart[existingIndex].quantity += 1; } 
    else { cart.push({name, price, quantity: 1}); }
    saveCart();
    updateCart();
    alert(name + " added to cart!");
}

function removeItem(index) { cart.splice(index, 1); saveCart(); updateCart(); }

function toggleCart() {
    const panel = document.getElementById("cart-panel");
    panel.style.display = panel.style.display === "block" ? "none" : "block";
    updateCart();
}

function checkout() {
    if(cart.length === 0) { alert("Your cart is empty!"); return; }
    let message = "Hello! I'd like to place an order:\n\n";
    cart.forEach(item => { message += `‚Ä¢ ${item.name} - R${item.price}\n`; });
    message += `\nTotal: R${document.getElementById("cart-total").textContent}`;
    message += `\n\n*Shipping costs vary based on your location.`;
    window.open(`https://wa.me/27713535297?text=${encodeURIComponent(message)}`, "_blank");
}

function increaseQty(index) { cart[index].quantity += 1; saveCart(); updateCart(); }
function decreaseQty(index) {
    if(cart[index].quantity > 1){ cart[index].quantity -= 1; } 
    else { removeItem(index); }
    saveCart(); updateCart();
}

updateCart();
</script>

</body>
<!-- Floating sale banner -->
<div class="sale-banner">
    Order now while stocks last!!! Sale ends on the 15th of December!!! 
</div>

</html>
